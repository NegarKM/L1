2019-11-17 21:05:35.785 DEBUG 5128 --- [           main] o.s.web.client.RestTemplate              : Created POST request for "http://localhost:55776/addComment"
2019-11-17 21:05:35.876 DEBUG 5128 --- [           main] o.s.web.client.RestTemplate              : Setting request Accept header to [application/json, application/json, application/*+json, application/*+json]
2019-11-17 21:05:35.895 DEBUG 5128 --- [           main] o.s.web.client.RestTemplate              : Writing [com.loyaltyone.interview.web.models.AddCommentParams@aafd70] using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@123a5be]
2019-11-17 21:05:42.582 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing servlet 'dispatcherServlet'
2019-11-17 21:05:42.583  INFO 5128 --- [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-11-17 21:05:42.583  INFO 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-11-17 21:05:42.583 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Using MultipartResolver [org.springframework.web.multipart.support.StandardServletMultipartResolver@bdc11d]
2019-11-17 21:05:42.590 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate LocaleResolver with name 'localeResolver': using default [org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@2cc02]
2019-11-17 21:05:42.598 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@805f84]
2019-11-17 21:05:42.606 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8f1c3]
2019-11-17 21:05:42.618 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@14d5150]
2019-11-17 21:05:42.618 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Published WebApplicationContext of servlet 'dispatcherServlet' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.dispatcherServlet]
2019-11-17 21:05:42.618  INFO 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2019-11-17 21:05:42.618 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Servlet 'dispatcherServlet' configured successfully
2019-11-17 21:05:42.637 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2019-11-17 21:05:42.639 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2019-11-17 21:05:42.640 DEBUG 5128 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2019-11-17 21:05:42.640 DEBUG 5128 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : No SecurityContext was available from the HttpSession: null. A new one will be created.
2019-11-17 21:05:42.642 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2019-11-17 21:05:42.643 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2019-11-17 21:05:42.643 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /addComment' doesn't match 'GET /logout
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/addComment'; against '/logout'
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /addComment' doesn't match 'PUT /logout
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /addComment' doesn't match 'DELETE /logout
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 5 of 11 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2019-11-17 21:05:42.644 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Basic Authentication Authorization header found for user 'test'
2019-11-17 21:05:42.646 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
loading user with username: test
Hibernate: select user0_.id as id1_2_, user0_.password as password2_2_, user0_.username as username3_2_ from user user0_ where user0_.username=?
Sun Nov 17 21:05:43 EST 2019 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.
2019-11-17 21:05:43.523 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fe2084f4: Principal: com.loyaltyone.interview.config.MyUserDetailsService$MyUserPrincipal@1dfee4e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Not granted any authorities
2019-11-17 21:05:43.524 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2019-11-17 21:05:43.524 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2019-11-17 21:05:43.526 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2019-11-17 21:05:43.527 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fe2084f4: Principal: com.loyaltyone.interview.config.MyUserDetailsService$MyUserPrincipal@1dfee4e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Not granted any authorities'
2019-11-17 21:05:43.527 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2019-11-17 21:05:43.527 DEBUG 5128 --- [o-auto-1-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@a9b662
2019-11-17 21:05:43.530 DEBUG 5128 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : HttpSession being created as SecurityContext is non-default
2019-11-17 21:05:43.539 DEBUG 5128 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : SecurityContext 'org.springframework.security.core.context.SecurityContextImpl@fe2084f4: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fe2084f4: Principal: com.loyaltyone.interview.config.MyUserDetailsService$MyUserPrincipal@1dfee4e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Not granted any authorities' stored to HttpSession: 'org.apache.catalina.session.StandardSessionFacade@b2f8ba
2019-11-17 21:05:43.539 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2019-11-17 21:05:43.539 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2019-11-17 21:05:43.540 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /addComment' doesn't match 'OPTIONS /**
2019-11-17 21:05:43.540 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /addComment; Attributes: [authenticated]
2019-11-17 21:05:43.540 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fe2084f4: Principal: com.loyaltyone.interview.config.MyUserDetailsService$MyUserPrincipal@1dfee4e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Not granted any authorities
2019-11-17 21:05:43.548 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@138aae3, returned: 1
2019-11-17 21:05:43.548 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2019-11-17 21:05:43.548 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2019-11-17 21:05:43.548 DEBUG 5128 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : /addComment reached end of additional filter chain; proceeding with original chain
2019-11-17 21:05:43.550 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name 'dispatcherServlet' processing POST request for [/addComment]
2019-11-17 21:05:43.553 DEBUG 5128 --- [o-auto-1-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /addComment
2019-11-17 21:05:43.556 DEBUG 5128 --- [o-auto-1-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public org.springframework.http.ResponseEntity<com.loyaltyone.interview.web.bean.PostVO> com.loyaltyone.interview.web.controller.PostsController.addComment(com.loyaltyone.interview.web.models.AddCommentParams)]
2019-11-17 21:05:43.592 DEBUG 5128 --- [o-auto-1-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read [class com.loyaltyone.interview.web.models.AddCommentParams] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@123a5be]
Sun Nov 17 21:05:48 EST 2019 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.
Hibernate: select post0_.id as id1_1_0_, post0_.city as city2_1_0_, post0_.parent_post as parent_p5_1_0_, post0_.text as text3_1_0_, post0_.timestamp as timestam4_1_0_, post0_.user_id as user_id6_1_0_, post1_.id as id1_1_1_, post1_.city as city2_1_1_, post1_.parent_post as parent_p5_1_1_, post1_.text as text3_1_1_, post1_.timestamp as timestam4_1_1_, post1_.user_id as user_id6_1_1_, user2_.id as id1_2_2_, user2_.password as password2_2_2_, user2_.username as username3_2_2_ from post post0_ left outer join post post1_ on post0_.parent_post=post1_.id left outer join user user2_ on post1_.user_id=user2_.id where post0_.id=?
BAD REQUEST
2019-11-17 21:09:38.231 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name 'dispatcherServlet': assuming HandlerAdapter completed request handling
2019-11-17 21:09:57.399 DEBUG 5128 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Successfully completed request
2019-11-17 21:10:27.105 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2019-11-17 21:14:06.491 DEBUG 5128 --- [o-auto-1-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@b773a8
2019-11-17 21:17:06.624 DEBUG 5128 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : SecurityContext 'org.springframework.security.core.context.SecurityContextImpl@fe2084f4: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fe2084f4: Principal: com.loyaltyone.interview.config.MyUserDetailsService$MyUserPrincipal@1dfee4e; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Not granted any authorities' stored to HttpSession: 'org.apache.catalina.session.StandardSessionFacade@b2f8ba
2019-11-17 21:18:11.380 DEBUG 5128 --- [o-auto-1-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2019-11-17 21:21:15.817 DEBUG 5128 --- [           main] o.s.web.client.RestTemplate              : POST request for "http://localhost:55776/addComment" resulted in 400 (); invoking error handler
